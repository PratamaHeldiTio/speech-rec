<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <main style="text-align: center;">
    <h1>Buat bby biar kalau mager masih bisa ngerjain tugas <br> I Love U bby</h1>
    <br>
    <button style="margin-right:20px;" id="start">start</button>
    <button id="stop">stop</button>

    <textarea id="result" cols="70" rows="10" style="display:block; margin: 50px auto;"></textarea>
    <button onclick="copyText()">copy</button>
    </div>
  </main>

  <script>
    if (!"webkitSpeechRecognition" in window) {
      alert("Speech Recoggnition Not Available")
    }

    let SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
    let SpeechGrammarList = window.SpeechGrammarList || webkitSpeechGrammarList;
    let SpeechRecognitionEvent = window.SpeechRecognitionEvent || webkitSpeechRecognitionEvent;

    let recognition  = new SpeechRecognition();
    let result = document.getElementById('result')

    recognition.continuous = true;
    recognition.interimResults = false;
    recognition.lang = 'id';

    document.getElementById('start').onclick = () => {
      recognition.start();
    }

    document.getElementById('stop').onclick = () => {
      recognition.stop();
    }

    recognition.onresult = (event) => {
      console.log(event.results)

      let textResult = ''
      textResult = event.results[event.results.length -1][0].transcript

      result.insertAdjacentHTML('beforeend', textResult)
    }

    // copy text
    function copyText() {
      navigator.clipboard.writeText(result.value);
      alert('text berhasil disalin')
    }
  </script>
</body>
</html>